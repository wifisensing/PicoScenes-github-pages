import{_ as s,c as e,d as n,o as a}from"./app-D9QE_WLm.js";const l="/assets/pipeline-tauOywmn.png",t={};function p(h,i){return a(),e("div",null,i[0]||(i[0]=[n('<h1 id="picosenses-rx-multipipeline" tabindex="-1"><a class="header-anchor" href="#picosenses-rx-multipipeline"><span>PicoSenses Rx MultiPipeline</span></a></h1><p>This page introduces the <strong>PicoScenes Rx-side pipeline</strong> and provides a tutorial on <strong>multi-pipeline</strong> configuration.</p><h2 id="picosenses-pipeline-in-signal-processing-workflow" tabindex="-1"><a class="header-anchor" href="#picosenses-pipeline-in-signal-processing-workflow"><span>PicoSenses Pipeline in Signal Processing Workflow</span></a></h2><ol><li><strong>Signal Reception</strong><ul><li>The USRP or NIC captures Wi-Fi signals.</li></ul></li><li><strong>Signal Buffering</strong><ul><li>PicoScenes stores the received multi-channel signals in the Rx-side buffer.</li></ul></li><li><strong>Pipeline Processing</strong><ul><li>Pipelines fetch and decode Wi-Fi packets from the buffer.</li><li>Each pipeline can decode signals from a single channel or multiple channels.</li><li>Multiple pipelines work in parallel to decode signals from different channels.</li></ul></li></ol><h2 id="" tabindex="-1"><a class="header-anchor" href="#"><span><img src="'+l+`" alt=""></span></a></h2><h2 id="why-multipipeline" tabindex="-1"><a class="header-anchor" href="#why-multipipeline"><span>Why MultiPipeline?</span></a></h2><p>One breakthrough in Wi-Fi 7 is <strong>Multi-Link Operation (MLO)</strong>, enabling devices to simultaneously access and use multiple frequency bands (e.g., 2.4 GHz, 5 GHz, 6 GHz). By intelligently scheduling data transmission at the link layer, MLO achieves parallel data transfer, significantly boosting throughput and reducing latency.</p><p>Similarly, PicoScenes provides a flexible framework for multi-pipeline configuration. Users can:</p><ol><li><strong>Process Multiple Channels in Parallel</strong>: Run pipelines simultaneously across different frequencies/channels.</li><li><strong>Customize Pipelines:</strong> adjustable parameters: <ul><li><em>Resampling rate</em></li><li><em>Bandwidth</em></li><li><em>Number of decoding threads</em></li><li><em>Carrier frequency offset (CFO) correction</em></li><li><em>Sampling frequency offset (SFO) compensation</em></li></ul></li></ol><h2 id="how-to-config-multipipeline" tabindex="-1"><a class="header-anchor" href="#how-to-config-multipipeline"><span>How to Config MultiPipeline?</span></a></h2><p>PicoScenes provides two command-line methods to set up Multi-Pipeline:</p><ol><li><strong><code>--rx-pipe</code></strong></li></ol><p>Assigns receive (Rx) channels to pipelines.</p><p><strong>Syntax:</strong></p><ul><li>Separate different pipelines with commas <code>,</code></li><li>Assign multiple channels to one pipeline with underscores (<code>_</code>).</li></ul><p><strong>Note:</strong></p><ul><li>Channel numbers must match those in <code>--rx-channel</code>.</li><li>Cannot be used with <code>--rx-pipe-cfg-file</code> (this will override <code>--rx-pipe</code>).</li><li>Only assigns channels—other parameters (bandwidth, decoding threads, etc.) remain unchanged.</li></ul><p><strong>Example:</strong></p><p><strong>Two pipelines, one channel each:</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">PicoScenes</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> debug</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -i</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> usrp</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --mode</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> logger</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --rate</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 100e6</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --rx-cbw</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 40</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --rx-resample-ratio</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0.4</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --rx-freq</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 5190,5230</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --rx-channel</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 0,1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --rx-pipe</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 0,1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>Single pipeline, two channels:</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">PicoScenes</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> debug</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -i</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> usrp</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --mode</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> logger</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --rate</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 100e6</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --rx-cbw</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 40</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --rx-resample-ratio</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0.4</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --rx-freq</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 5190,5230</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --rx-channel</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 0,1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --rx-pipe</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 0_1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="2"><li><strong><code>--rx-pipe-cfg-file</code></strong></li></ol><p>Specify the JSON config file path.The config file specify receive (Rx) channel(s) and other property config to each pipeline.</p><p><strong>Format</strong>:</p><ol><li>The file content like:</li></ol><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[</span></span>
<span class="line"><span>  {</span></span>
<span class="line"><span>  	pipeline1 config</span></span>
<span class="line"><span>  },</span></span>
<span class="line"><span>  {</span></span>
<span class="line"><span>  	pipeline2 config</span></span>
<span class="line"><span>  },</span></span>
<span class="line"><span>  ...</span></span>
<span class="line"><span>]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li><p>the property :</p><p><code>rx-channel</code> :must be specified,can be single channel number or multi channel number. Specify the pipeline occupied which channels.</p></li></ol><p>​ Other parameters have default value:<code> rx-resample-ratio = 1 rx-cbw = 20 rx-iq-mismatch = [0,0] mt = 1 sfo = 0 cfo = 0</code></p><p><strong>Example</strong>:</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">PicoScenes</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> debug</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -i</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> usrp</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --mode</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> logger</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --rate</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 100e6</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  --rx-freq</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 5230,5190</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --rx-channel</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 0,1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --rx-pipe-cfg-file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ~/cfg.json</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>~/cfg.json: The content bellow specify a pipeline occupies 0,1channel, both use rx-resample-ratio=0.2,mt=8,rx-cbw=20.</p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        &quot;rx-channel&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">],</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        &quot;rx-resample-ratio&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0.2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        &quot;rx-cbw&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        &quot;mt&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>~/cfg.json: The content bellow specify two pipelines occupy channels 0 and 1 respectively,and each has more detailed parameter configurations.</p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;rx-channel&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;rx-resample-ratio&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0.4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;rx-cbw&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">40</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;mt&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;cfo&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;rx-iq-mismatch&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  },</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;rx-channel&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;rx-resample-ratio&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0.4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;rx-cbw&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">40</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;mt&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;sfo&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,35)]))}const k=s(t,[["render",p]]),d=JSON.parse('{"path":"/manual/MultiPipeline.html","title":"PicoSenses Rx MultiPipeline","lang":"en-US","frontmatter":{"description":"PicoSenses Rx MultiPipeline This page introduces the PicoScenes Rx-side pipeline and provides a tutorial on multi-pipeline configuration. PicoSenses Pipeline in Signal Processin...","head":[["meta",{"property":"og:url","content":"https://ps.zpj.io/manual/MultiPipeline.html"}],["meta",{"property":"og:title","content":"PicoSenses Rx MultiPipeline"}],["meta",{"property":"og:description","content":"PicoSenses Rx MultiPipeline This page introduces the PicoScenes Rx-side pipeline and provides a tutorial on multi-pipeline configuration. PicoSenses Pipeline in Signal Processin..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2025-06-15T02:07:05.000Z"}],["meta",{"property":"article:modified_time","content":"2025-06-15T02:07:05.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"PicoSenses Rx MultiPipeline\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-06-15T02:07:05.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Zhiping Jiang\\"}]}"]]},"headers":[{"level":2,"title":"PicoSenses Pipeline in Signal Processing Workflow","slug":"picosenses-pipeline-in-signal-processing-workflow","link":"#picosenses-pipeline-in-signal-processing-workflow","children":[]},{"level":2,"title":"","slug":"","link":"#","children":[]},{"level":2,"title":"Why MultiPipeline?","slug":"why-multipipeline","link":"#why-multipipeline","children":[]},{"level":2,"title":"How to Config MultiPipeline?","slug":"how-to-config-multipipeline","link":"#how-to-config-multipipeline","children":[]}],"git":{"createdTime":1749953225000,"updatedTime":1749953225000,"contributors":[{"name":"djh","username":"djh","email":"1450034828@qq.com","commits":1,"url":"https://github.com/djh"}]},"readingTime":{"minutes":1.74,"words":522},"filePathRelative":"manual/MultiPipeline.md","localizedDate":"June 15, 2025","excerpt":"\\n<p>This page introduces the <strong>PicoScenes Rx-side pipeline</strong> and provides a tutorial on <strong>multi-pipeline</strong> configuration.</p>\\n<h2>PicoSenses Pipeline in Signal Processing Workflow</h2>\\n<ol>\\n<li><strong>Signal Reception</strong>\\n<ul>\\n<li>The USRP or NIC captures Wi-Fi signals.</li>\\n</ul>\\n</li>\\n<li><strong>Signal Buffering</strong>\\n<ul>\\n<li>PicoScenes stores the received multi-channel signals in the Rx-side buffer.</li>\\n</ul>\\n</li>\\n<li><strong>Pipeline Processing</strong>\\n<ul>\\n<li>Pipelines fetch and decode Wi-Fi packets from the buffer.</li>\\n<li>Each pipeline can decode signals from a single channel or multiple channels.</li>\\n<li>Multiple pipelines work in parallel to decode signals from different channels.</li>\\n</ul>\\n</li>\\n</ol>","autoDesc":true}');export{k as comp,d as data};
